<!DOCTYPE html>
<!-- saved from url=(0071)file:///C:/Users/User/Documents/GitHub/Meu-Filho-Convites/index.html -->
<html lang="pt-BR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="icon" type="image/png" sizes="32x32" href="file:///C:/Users/User/Documents/GitHub/Meu-Filho-Convites/favicon.png">
<link rel="icon" type="image/png" sizes="16x16" href="file:///C:/Users/User/Documents/GitHub/Meu-Filho-Convites/favicon.png">
<link rel="shortcut icon" href="file:///C:/Users/User/Documents/GitHub/Meu-Filho-Convites/favicon.png">
<link rel="apple-touch-icon" href="file:///C:/Users/User/Documents/GitHub/Meu-Filho-Convites/favicon.png">
<title>Meu Filho</title>
<style>
  :root{
    --bg-primary:#1a0f0a;
    --bg-secondary:#2d1810;
    --bg-card:#3d2418;
    --accent:#ff7f3f;
    --accent-hover:#ff6b1f;
    --accent-light:#ffb380;
    --sunset-orange:#ff6b1f;
    --sunset-coral:#ff8c5a;
    --sunset-peach:#ffb380;
    --text-primary:#fff5ed;
    --text-secondary:#d4a88a;
    --border:rgba(255,127,63,.3);
    --shadow:rgba(0,0,0,.6);
  }
  
  *{box-sizing:border-box;margin:0;padding:0}
  
  body{
    font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;
    background:linear-gradient(135deg,#1a0f0a 0%,#2d1810 50%,#3d2418 100%);
    color:var(--text-primary);
    min-height:100vh;
    padding:24px 16px;
    line-height:1.6;
  }
  
  .container{
    max-width:1200px;
    margin:0 auto;
  }
  
  .header-date{
    font-size:28px;
    font-weight:700;
    color:var(--accent-light);
    text-shadow:0 2px 8px rgba(255,127,63,.4);
    margin-bottom:20px;
    text-align:center;
  }
  
  .controls{
    background:linear-gradient(135deg,var(--bg-card) 0%,rgba(255,127,63,.08) 100%);
    padding:16px 20px;
    border-radius:12px;
    margin-bottom:20px;
    border:1px solid var(--border);
    display:flex;
    gap:12px;
    align-items:flex-end;
    flex-wrap:wrap;
  }
  
  .control-group{
    display:flex;
    flex-direction:column;
    gap:6px;
  }
  
  .control-group label{
    font-size:12px;
    font-weight:600;
    color:var(--text-secondary);
    text-transform:uppercase;
    letter-spacing:.5px;
  }
  
  .control-group input{
    width:80px;
    padding:8px 12px;
    border-radius:8px;
    border:1px solid var(--border);
    background:var(--bg-secondary);
    color:var(--text-primary);
    font-size:14px;
    font-weight:600;
    transition:all .2s;
  }
  
  .control-group input:focus{
    outline:none;
    border-color:var(--accent);
    box-shadow:0 0 0 3px rgba(255,127,63,.2);
  }
  
  .btn{
    padding:8px 16px;
    border-radius:8px;
    border:none;
    font-size:13px;
    font-weight:600;
    cursor:pointer;
    transition:all .2s;
  }
  
  .btn-primary{
    background:linear-gradient(135deg,var(--sunset-orange) 0%,var(--sunset-coral) 100%);
    color:#fff;
    box-shadow:0 4px 12px rgba(255,127,63,.3);
  }
  
  .btn-primary:hover{
    background:linear-gradient(135deg,var(--accent-hover) 0%,var(--sunset-orange) 100%);
    transform:translateY(-2px);
    box-shadow:0 6px 16px rgba(255,127,63,.5);
  }
  
  .btn-secondary{
    background:transparent;
    color:var(--text-secondary);
    border:1px solid var(--border);
  }
  
  .btn-secondary:hover{
    background:var(--bg-secondary);
    color:var(--accent-light);
    border-color:var(--accent);
  }
  
  .spacer{
    margin-left:auto;
  }
  
  .table-container{
    background:linear-gradient(135deg,var(--bg-card) 0%,rgba(255,127,63,.08) 100%);
    padding:20px;
    border-radius:12px;
    border:1px solid var(--border);
    margin-bottom:20px;
    overflow-x:auto;
  }
  
  table{
    width:100%;
    border-collapse:collapse;
    background:var(--bg-secondary);
    border:2px solid var(--border);
  }
  
  th{
    background:var(--bg-primary);
    color:var(--accent-light);
    padding:12px;
    text-align:center;
    font-size:14px;
    font-weight:700;
    text-transform:uppercase;
    letter-spacing:.5px;
    border:2px solid var(--border);
  }
  
  td{
    padding:12px;
    text-align:center;
    border:2px solid var(--border);
    font-size:13px;
    font-weight:600;
    color:var(--text-secondary);
  }
  
  td.leva-label{
    background:var(--bg-primary);
    color:var(--text-primary);
    text-align:left;
    padding-left:16px;
  }
  
  td.cell-clickable{
    cursor:pointer;
    transition:all .2s;
    background:var(--bg-primary);
    font-size:18px;
  }
  
  td.cell-clickable:hover{
    background:rgba(255,127,63,.15);
    border-color:var(--accent);
  }
  
  td.cell-checked{
    background:rgba(255,127,63,.25) !important;
    border-color:var(--accent) !important;
    box-shadow:inset 0 0 10px rgba(255,127,63,.3);
  }
  
  td.cell-checked::after{
    content:'✅';
  }
  
  .actions{
    display:flex;
    gap:10px;
    margin-bottom:12px;
    flex-wrap:wrap;
  }
  
  .output-container{
    background:var(--bg-secondary);
    padding:16px;
    border-radius:8px;
    border:1px solid var(--border);
    font-family:'Courier New',Consolas,'Liberation Mono',Menlo,monospace;
    font-size:13px;
    line-height:1.8;
    color:var(--text-primary);
    white-space:pre-wrap;
    word-wrap:break-word;
    max-height:300px;
    overflow-y:auto;
    letter-spacing:0;
    font-feature-settings:"liga" 0;
    font-variant-ligatures:none;
    text-rendering:optimizeSpeed;
    font-variant-numeric:tabular-nums;
    font-kerning:none;
  }
  
  footer{
    margin-top:20px;
    padding:16px;
    text-align:center;
    font-size:13px;
    color:var(--text-secondary);
    background:linear-gradient(135deg,var(--bg-card) 0%,rgba(255,127,63,.08) 100%);
    border-radius:8px;
    border:1px solid var(--border);
  }
  
  @media(max-width:768px){
    .controls{
      flex-direction:column;
      align-items:stretch;
    }
    
    .spacer{
      margin-left:0;
    }
    
    .control-group input{
      width:100%;
    }
    
    .table-container{
      padding:10px;
    }
    
    th, td{
      padding:8px 4px;
      font-size:11px;
    }
  }
</style>
</head>
<body>
<div class="container">
  <div class="header-date" id="headerDate">08/10</div>

  <div class="controls">
    <div class="control-group">
      <label>Nº de Grupos</label>
      <input id="numGroups" type="number" min="1" max="12" value="4">
    </div>
    <div class="control-group">
      <label>Levas por grupo</label>
      <input id="numLevas" type="number" min="1" max="12" value="6">
    </div>
    <button id="applyBtn" class="btn btn-primary">✓ Aplicar</button>
    <div class="spacer"></div>
    <button id="resetBtn" class="btn btn-secondary">↻ Resetar</button>
  </div>

  <div class="table-container">
    <table id="mainTable">
      <thead>
        <tr id="tableHeader"><th></th><th>Grupo 1</th><th>Grupo 2</th><th>Grupo 3</th><th>Grupo 4</th></tr>
      </thead>
      <tbody id="tableBody"><tr><td class="leva-label">Leva 1</td><td class="cell-clickable cell-checked" data-group="1" data-leva="1"></td><td class="cell-clickable cell-checked" data-group="2" data-leva="1"></td><td class="cell-clickable" data-group="3" data-leva="1"></td><td class="cell-clickable" data-group="4" data-leva="1"></td></tr><tr><td class="leva-label">Leva 2</td><td class="cell-clickable cell-checked" data-group="1" data-leva="2"></td><td class="cell-clickable" data-group="2" data-leva="2"></td><td class="cell-clickable" data-group="3" data-leva="2"></td><td class="cell-clickable cell-checked" data-group="4" data-leva="2"></td></tr><tr><td class="leva-label">Leva 3</td><td class="cell-clickable" data-group="1" data-leva="3"></td><td class="cell-clickable" data-group="2" data-leva="3"></td><td class="cell-clickable cell-checked" data-group="3" data-leva="3"></td><td class="cell-clickable" data-group="4" data-leva="3"></td></tr><tr><td class="leva-label">Leva 4</td><td class="cell-clickable" data-group="1" data-leva="4"></td><td class="cell-clickable" data-group="2" data-leva="4"></td><td class="cell-clickable cell-checked" data-group="3" data-leva="4"></td><td class="cell-clickable" data-group="4" data-leva="4"></td></tr><tr><td class="leva-label">Leva 5</td><td class="cell-clickable" data-group="1" data-leva="5"></td><td class="cell-clickable" data-group="2" data-leva="5"></td><td class="cell-clickable" data-group="3" data-leva="5"></td><td class="cell-clickable" data-group="4" data-leva="5"></td></tr><tr><td class="leva-label">Leva 6</td><td class="cell-clickable" data-group="1" data-leva="6"></td><td class="cell-clickable" data-group="2" data-leva="6"></td><td class="cell-clickable" data-group="3" data-leva="6"></td><td class="cell-clickable" data-group="4" data-leva="6"></td></tr></tbody>
    </table>
  </div>

  <div class="table-container">
    <div class="actions">
      <button id="copyBtn" class="btn btn-primary">📋 Copiar formato Discord</button>
      <button id="copyPlainBtn" class="btn btn-secondary">Copiar só texto</button>
    </div>
    <div id="output" class="output-container">```
┌────────────┬────────┬────────┬────────┬────────┐
│ 08/10      │ Grupo 1│ Grupo 2│ Grupo 3│ Grupo 4│
├────────────┼────────┼────────┼────────┼────────┤
│ Leva 1     │   ✓    │   ✓    │        │        │
│ Leva 2     │   ✓    │        │        │   ✓    │
│ Leva 3     │        │        │   ✓    │        │
│ Leva 4     │        │        │   ✓    │        │
│ Leva 5     │        │        │        │        │
│ Leva 6     │        │        │        │        │
└────────────┴────────┴────────┴────────┴────────┘
```</div>
  </div>

  <footer>
    💡 <strong>Dica:</strong> Clique nas células da tabela para marcar as levas concluídas
  </footer>
</div>

<script>
(() => {
  const numGroupsInput = document.getElementById('numGroups');
  const numLevasInput = document.getElementById('numLevas');
  const applyBtn = document.getElementById('applyBtn');
  const resetBtn = document.getElementById('resetBtn');
  const headerDateEl = document.getElementById('headerDate');
  const tableHeader = document.getElementById('tableHeader');
  const tableBody = document.getElementById('tableBody');
  const outputEl = document.getElementById('output');
  const copyBtn = document.getElementById('copyBtn');
  const copyPlainBtn = document.getElementById('copyPlainBtn');

  let groups = [];
  const emptyBox = ' ';
  const checkedBox = '✅';

  function updateDate(){
    const today = new Date();
    const day = String(today.getDate()).padStart(2,'0');
    const month = String(today.getMonth()+1).padStart(2,'0');
    headerDateEl.textContent = `${day}/${month}`;
  }

  // Sistema de cookies para salvar configurações
  function saveSettings() {
    const settings = {
      numGroups: numGroupsInput.value,
      numLevas: numLevasInput.value
    };
    localStorage.setItem('meuFilhoSettings', JSON.stringify(settings));
  }

  function loadSettings() {
    const saved = localStorage.getItem('meuFilhoSettings');
    if (saved) {
      const settings = JSON.parse(saved);
      numGroupsInput.value = settings.numGroups || 4;
      numLevasInput.value = settings.numLevas || 6;
    }
  }

  function buildTable(nGroups, nLevas) {
    groups = [];
    
    // Criar estrutura de dados
    for (let g = 1; g <= nGroups; g++) {
      groups.push({ id: g, levas: Array.from({length: nLevas}, ()=>false) });
    }
    
    // Criar cabeçalho
    tableHeader.innerHTML = '<th></th>';
    for (let g = 1; g <= nGroups; g++) {
      const th = document.createElement('th');
      th.textContent = `Grupo ${g}`;
      tableHeader.appendChild(th);
    }
    
    // Criar corpo da tabela
    tableBody.innerHTML = '';
    for (let l = 1; l <= nLevas; l++) {
      const tr = document.createElement('tr');
      
      // Coluna de label da leva
      const tdLabel = document.createElement('td');
      tdLabel.className = 'leva-label';
      tdLabel.textContent = `Leva ${l}`;
      tr.appendChild(tdLabel);
      
      // Células para cada grupo
      for (let g = 1; g <= nGroups; g++) {
        const td = document.createElement('td');
        td.className = 'cell-clickable';
        td.dataset.group = g;
        td.dataset.leva = l;
        td.addEventListener('click', toggleCell);
        tr.appendChild(td);
      }
      
      tableBody.appendChild(tr);
    }
    
    renderOutput();
  }

  // Função separada para construir o cabeçalho da tabela
  function buildTableHeader() {
    const today = new Date();
    const day = String(today.getDate()).padStart(2,'0');
    const month = String(today.getMonth()+1).padStart(2,'0');
    const dateText = `${day}/${month}`;

    let lines = [];
    
    // LINHA SUPERIOR - CABEÇALHO
    let topLine = '┌────────────';
    for (let g = 0; g < groups.length; g++) {
      topLine += '┬' + '─'.repeat(8);
    }
    topLine += '┐';
    lines.push(topLine);
    
    // LINHA DO CABEÇALHO - EXATAMENTE COMO SEU EXEMPLO
    let headerLine = `│ ${dateText.padEnd(10)} `;
    for (let g = 1; g <= groups.length; g++) {
      const groupText = `Grupo ${g}`;
      headerLine += `│ ${groupText.padEnd(6)} `;
    }
    headerLine += '│';
    
    // REMOVER ESPAÇOS EXTRAS APÓS OS NÚMEROS DOS GRUPOS
    headerLine = headerLine.replace(/Grupo (\d+) /g, 'Grupo $1');
    
    lines.push(headerLine);
    
    // LINHA SEPARADORA
    let sepLine = '├────────────';
    for (let g = 0; g < groups.length; g++) {
      sepLine += '┼' + '─'.repeat(8);
    }
    sepLine += '┤';
    lines.push(sepLine);
    
    return lines;
  }

  function toggleCell(e){
    const td = e.currentTarget;
    const g = Number(td.dataset.group);
    const l = Number(td.dataset.leva);
    const grp = groups.find(x=>x.id===g);
    grp.levas[l-1] = !grp.levas[l-1];
    
    if (grp.levas[l-1]) {
      td.classList.add('cell-checked');
    } else {
      td.classList.remove('cell-checked');
    }
    
    renderOutput();
  }

  function renderOutput(){
    const numLevas = groups[0]?.levas.length || 0;
    let lines = [];
    
    // CONSTRUIR CABEÇALHO SEPARADO
    const headerLines = buildTableHeader();
    lines = lines.concat(headerLines);
    
    // CONSTRUIR CORPO DA TABELA
    for (let l = 0; l < numLevas; l++) {
      const levaText = `Leva ${l+1}`;
      let levaLine = `│ ${levaText.padEnd(10)} `;
      for (const grp of groups) {
        // Solução NATURAL com ✓ - padding proporcional
        let cellContent = '';
        if (grp.levas[l]) {
          // Usar ✓ com padding proporcional - centralizado
          cellContent = '  ✓   '; 
        } else {
          // Célula vazia com 6 espaços - mantém alinhamento
          cellContent = '      ';
        }
        levaLine += `│ ${cellContent} `;
      }
      levaLine += '│';
      lines.push(levaLine);
    }
    
    // Linha inferior da tabela
    let bottomLine = '└────────────';
    for (let g = 0; g < groups.length; g++) {
      bottomLine += '┴' + '─'.repeat(8);
    }
    bottomLine += '┘';
    lines.push(bottomLine);
    
    // Envolver em bloco de código para Discord
    const tableContent = lines.join('\n');
    outputEl.textContent = '```\n' + tableContent + '\n```';
  }

  function copyToClipboard(text){
    navigator.clipboard.writeText(text).then(()=>{
      const originalText = copyBtn.innerHTML;
      copyBtn.innerHTML = '✅ Copiado!';
      setTimeout(()=>{
        copyBtn.innerHTML = originalText;
      }, 1500);
    }).catch(()=>{
      alert('Não foi possível copiar automaticamente. Selecione o texto e copie manualmente (Ctrl+C).');
    });
  }

  applyBtn.addEventListener('click', ()=>{
    const ng = Math.max(1, Math.min(12, Number(numGroupsInput.value) || 4));
    const nl = Math.max(1, Math.min(12, Number(numLevasInput.value) || 6));
    numGroupsInput.value = ng;
    numLevasInput.value = nl;
    buildTable(ng, nl);
    saveSettings(); // Salvar configurações
  });

  copyBtn.addEventListener('click', ()=>{
    copyToClipboard(outputEl.textContent);
  });

  copyPlainBtn.addEventListener('click', ()=>{
    const plain = outputEl.textContent.replace(/\*\*/g,'');
    copyToClipboard(plain);
  });

  resetBtn.addEventListener('click', ()=>{
    if (!confirm('Resetar marcações?')) return;
    buildTable(Number(numGroupsInput.value), Number(numLevasInput.value));
  });

  updateDate();
  loadSettings(); // Carregar configurações salvas
  buildTable(Number(numGroupsInput.value), Number(numLevasInput.value));
  
  // Atualiza a data à meia-noite
  setInterval(()=>{
    const now = new Date();
    if(now.getHours() === 0 && now.getMinutes() === 0){
      updateDate();
      renderOutput();
    }
  }, 60000);
})();
</script>


</body></html>